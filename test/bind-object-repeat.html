<!doctype html>
<html>
  <head>
    <title>bind object + repeat</title>
    <script src="../platform/platform.js"></script>
    <script src="../toolkit.js"></script>
    <script src="../node_modules/chai/chai.js"></script>
  </head>
  <body>
    <x-bind-obj></x-bind-obj>
    <element name="x-foo">
      <template>
        <p>obj.foo is {{obj.foo}}</p>
      </template>
      <script>
        Toolkit.register(this, {
          obj: null,
          objChanged: function() {
            console.log('x-foo', this.obj);
          }
        });
      </script>
    </element>
    <element name="x-bind-obj">
      <template>
        <x-foo obj="{{testObj}}"></x-foo>
        <div>
          <template repeat="{{arr}}">
            <x-foo obj="{{}}"></x-foo>
          </template>
        </div>
      </template>
      <script>
        Toolkit.register(this, {
          testObj: null,
          arr: null,
          ready: function() {
            this.testObj = {foo: 'single'};
            this.arr = [];
            for (var i = 0; i < 3; i++) {
              this.arr.push({foo: 'array ' + i});
            }
          }
        });
      </script>
    </element>
  </body>
</html>
