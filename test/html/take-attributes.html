<!doctype html>
<html>
  <head>
    <title>take attributes</title>
    <script src="../../platform/platform.js"></script>
    <script src="../../toolkit.js"></script>
    <script src="../../tools/test/htmltest.js"></script>
    <script src="../../node_modules/chai/chai.js"></script>
  </head>
  <body>

    <element name="x-foo">
      <script>
        Toolkit.register(this, {
          publish: {
            bool: false,
            num: 42,
            str: "don't panic"
          }
        });
      </script>
    </element>
    <x-foo id="foo0" bool="true"></x-foo>
    <x-foo id="foo1" bool="false"></x-foo>
    <x-foo id="foo2" bool></x-foo>
    <x-foo id="foo3"></x-foo>
    <x-foo id="foo4" bool="squid"></x-foo>
    <x-foo id="foo5" bool="0"></x-foo>

  <script>
      var assert = chai.assert;
      document.addEventListener('WebComponentsReady', function() {
        assert.isTrue(document.querySelector("#foo0").bool);
        assert.isFalse(document.querySelector("#foo1").bool);
        assert.isTrue(document.querySelector("#foo2").bool);
        assert.isFalse(document.querySelector("#foo3").bool);
        // this one is only 'truthy'
        assert.ok(document.querySelector("#foo4").bool);
        // this one is also 'truthy', but should it be?
        assert.ok(document.querySelector("#foo4").bool);
        //
        assert.equal(document.querySelector("#foo0").num, 42);
        assert.equal(document.querySelector("#foo0").str, "don't panic");
        //
        done();
      });
    </script>
  </body>
</html>
